language: python
node_js:
  - "9"
sudo: required

before_install:
  - npm i -g npm

install:
  - npm ci --silent

script:
  - node ./tools/licenses/fetchLicenses.js
  - npm run lint
  - npm run test.unit

after_success:
  - pip install virtualenv
  - virtualenv ~/env
  - source ~/env/bin/activate
  - pip install transifex-client
#  - sudo echo $'[https://www.transifex.com]\nhostname = https://www.transifex.com\nusername = '"$TRANSIFEX_USER"$'\npassword = '"$TRANSIFEX_PASSWORD"$'\ntoken = '"$TRANSIFEX_API_TOKEN"$'\n' > ~/.transifexrc
#  - tx push -s

