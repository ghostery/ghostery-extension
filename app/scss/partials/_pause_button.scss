/**
 * Pause Button Sass
 *
 * Ghostery Browser Extension
 * https://www.ghostery.com/
 *
 * Copyright 2018 Ghostery, Inc. All rights reserved.
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at http://mozilla.org/MPL/2.0
 */

@function buildIconPause($stroke-color) {
	@return url('data:image/svg+xml;charset=US-ASCII,%3Csvg%20width=%2214%22%20height=%2216%22%20xmlns=%22http%3A//www.w3.org/2000/svg%22%3E%3Cpath%20d=%22M1%2015h3V1H1v14zM9%201v14h3V1H9z%22%20fill=%22#{url-friendly-colour($stroke-color)}%22/%3E%3C/svg%3E');
}

@function buildIconPlay($stroke-color) {
	@return url('data:image/svg+xml;charset=US-ASCII,%3Csvg%20width=%2214%22%20height=%2216%22%20xmlns=%22http%3A//www.w3.org/2000/svg%22%3E%3Cpath%20d=%22M12.74%207.543a.532.532%200%200%201%200%20.915L1.782%2014.92c-.322.222-.783-.045-.783-.458V1.54c0-.378.44-.693.783-.458l10.956%206.462zM2.043%2013.547L11.435%208%202.044%202.454v11.093z%22%20fill=%22#{url-friendly-colour($stroke-color)}%22/%3E%3C/svg%3E');
}

@function buildIconCaretDown($stroke-color) {
	@return url('data:image/svg+xml;charset=US-ASCII,%3Csvg%20width=%229%22%20height=%225%22%20xmlns=%22http%3A//www.w3.org/2000/svg%22%3E%3Cpath%20d=%22M0%200h9L4.5%205%200%200%22%20fill=%22#{url-friendly-colour($stroke-color)}%22/%3E%3C/svg%3E');
}

@function buildIconCircle($stroke-color) {
	@return url('data:image/svg+xml;charset=US-ASCII,%3Csvg%20width=%224%22%20height=%224%22%20xmlns=%22http%3A//www.w3.org/2000/svg%22%3E%3Ccircle%20cx=%222%22%20cy=%222%22%20r=%222%22%20fill=%22#{url-friendly-colour($stroke-color)}%22/%3E%3C/svg%3E');
}

.sub-component.pause-button {
	.button {
		color: #4a4a4a;
		border-color: #cccccc;
		background-color: #ffffff;
		margin-bottom: 0;

		transition: background-image 0.25s ease-out,
			background-color 0.25s ease-out,
			border-color 0.25s ease-out,
			color 0.25s ease-out;
	}
	.button.active {
		color: #ffffff;
		border-color: #1dafed;
		background-color: #1dafed;
		box-shadow: inset 0px 1px 7px 2px rgba(#1dafed, 0);
		& + .button.active {
			border-left-color: #efefea;
		}
	}
	.button:hover { background-color: #efefef; }
	.button.active:hover {
		border-color: #0093bd;
		background-color: #0093bd;
	}

	.button-pause {
		min-width: 125px;
		max-width: 125px;
		font-size: 11px;
		line-height: 17px;
		.pause-button-text {
			overflow-x: hidden;
			text-overflow: clip;
		}
		.pause-button-icon {
			padding: 0 10px 0 30px;
			background-repeat: no-repeat;
			background-position: 0 center;
			background-size: 14px 16px;
			background-image: buildIconPause(#4a4a4a);
			white-space: nowrap;
			text-overflow: ellipsis;
			overflow-x: hidden;
		}
		&.active .pause-button-icon {
			background-image: buildIconPlay(#ffffff);
		}
		&.smaller {
			min-width: 100px;
			max-width: 150px;
		}
		&.smallest {
			min-width: 41px;
			max-width: 41px;
			padding-left: 17px;
			.pause-button-icon {
				padding: 0 0 0 15px;
			}
		}
	}
	.button-caret {
		width: 25px;
		padding-top: 21px;
		padding-right: 0;
		background-repeat: no-repeat;
		background-position: center center;
		background-size: 9px 5px;
		background-image: buildIconCaretDown(#4a4a4a);
		&.active {
			background-image: buildIconCaretDown(#ffffff);
		}
	}

	.button-left {
		border-top-right-radius: 0;
		border-bottom-right-radius: 0;
		border-right: 0;
		&.dropdown-open {
			border-bottom-left-radius: 0;
		}
	}
	.button-right {
		border-top-left-radius: 0;
		border-bottom-left-radius: 0;
		&.dropdown-open {
			border-bottom-right-radius: 0;
		}
	}

	.dropdown-container {
		position: relative;
		width: 0;
		height: 0;
		top: 0;

		.dropdown {
			text-align: center;
			background-color: #ffffff;
			border: 1px solid #cccccc;
			border-top: 0;
			margin: 0 auto;
			border-bottom-left-radius: 3px;
			border-bottom-right-radius: 3px;
		}
		.dropdown-item {
			padding: 12px 0;
			background-color: #ffffff;

			white-space: nowrap;
			text-overflow: ellipsis;
			overflow-x: hidden;
		}
		.dropdown-item:hover {
			background-color: #ebebeb;
		}
		.dropdown-item.selected {
			background-color: #ebebeb;
			.dropdown-clickable {
				padding: 0 0 0 10px;
				background-repeat: no-repeat;
				background-position: 0 center;
				background-size: 4px 4px;
				background-image: buildIconCircle(#4a4a4a);
			}
		}
	}

	.no-border-radius {
		border-bottom-right-radius: 0;
		border-bottom-left-radius: 0;
		border-top-right-radius: 0;
		border-top-left-radius: 0;
	}
}

.ghostery-features-container .sub-component.pause-button {
	.button-pause {
		height: 35px;
		line-height: 21px;
	}
	.button-caret {
		height: 35px;
	}
	.button-pause.smaller {
		height: 45px;
		min-width: 125px;
		max-width: 125px;
		line-height: 31px;
	}
	.button-caret.smaller {
		height: 45px;
	}
	.button.active {
		border-color: #0093bd;
		background-color: #1dafed;
		box-shadow: inset 0px 1px 7px 2px #0093bd;
		&:hover {
			background-color: #0093bd;
		}
	}
	.button-pause.smallest {
		padding-left: 15px;
		height: 41px;
		line-height: 27px;
		border-top: none;
		border-bottom-left-radius: 3px;
		&.dropdown-open {
			border-bottom-left-radius: 0;
		}
	}
	.button-caret.smallest {
		height: 41px;
		border-top: none;
		border-bottom-right-radius: 3px;
		&.dropdown-open {
			border-bottom-right-radius: 0;
		}
	}
	.dropdown {
		position: absolute;
		z-index: 1;
	}
	.dropdown-container.centered .dropdown-item {
		padding: 9px 0;
	}
}
